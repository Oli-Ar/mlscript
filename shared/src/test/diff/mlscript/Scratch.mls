:e
(1,2,3)[true]
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
//│ 	at: scala.Predef$.$qmark$qmark$qmark(Predef.scala:344)
//│ 	at: mlscript.ConstraintSolver.indexedBy(ConstraintSolver.scala:706)
//│ 	at: mlscript.Typer.$anonfun$typeTerm$2(Typer.scala:529)
//│ 	at: mlscript.TyperHelpers.trace(TyperHelpers.scala:30)
//│ 	at: mlscript.Typer.typeTerm(Typer.scala:696)
//│ 	at: mlscript.Typer.typeStatement(Typer.scala:351)
//│ 	at: mlscript.DiffTests.$anonfun$new$53(DiffTests.scala:553)
//│ 	at: mlscript.DiffTests.$anonfun$new$53$adapted(DiffTests.scala:506)
//│ 	at: scala.collection.immutable.List.foreach(List.scala:333)
//│ 	at: mlscript.DiffTests.rec$1(DiffTests.scala:506)

:d
def foo x = x[1]
//│ 1. Typing term ((x,) => x[1])
//│ | 1. Typing pattern (x,)
//│ | | 1. Typing pattern x
//│ | | 1. : α21'
//│ | 1. : (α21',)
//│ | 1. Typing term x[1]
//│ | | 1. Typing term x
//│ | | 1. : α21'
//│ | | 1. Typing term 1
//│ | | 1. : 1<TypeName(int),TypeName(number)>
//│ | 1. : α22'
//│ 1. : (α21' -> α22')
//│ ⬤ Typed as: (α21' -> α22')
//│  where: 
//│ foo: anything -> nothing
//│    = [Function: foo]

:d
foo ((1, 2, 3))
//│ 0. Typing term (foo (((1, 2, 3,)),))
//│ | 0. Typing term foo
//│ | 0. : (α25 -> α26)
//│ | 0. Typing term (((1, 2, 3,)),)
//│ | | 0. Typing term ((1, 2, 3,))
//│ | | | 0. Typing term (1, 2, 3,)
//│ | | | | 0. Typing term 1
//│ | | | | 0. : 1<TypeName(int),TypeName(number)>
//│ | | | | 0. Typing term 2
//│ | | | | 0. : 2<TypeName(int),TypeName(number)>
//│ | | | | 0. Typing term 3
//│ | | | | 0. : 3<TypeName(int),TypeName(number)>
//│ | | | 0. : (1<TypeName(int),TypeName(number)>, 2<TypeName(int),TypeName(number)>, 3<TypeName(int),TypeName(number)>,)
//│ | | 0. : (1<TypeName(int),TypeName(number)>, 2<TypeName(int),TypeName(number)>, 3<TypeName(int),TypeName(number)>,)
//│ | 0. : ((1<TypeName(int),TypeName(number)>, 2<TypeName(int),TypeName(number)>, 3<TypeName(int),TypeName(number)>,),)
//│ | CONSTRAIN (α25 -> α26) <! ((1<TypeName(int),TypeName(number)>, 2<TypeName(int),TypeName(number)>, 3<TypeName(int),TypeName(number)>,) -> α27)
//│ |   where 
//│ | C (α25 -> α26) <! ((1<TypeName(int),TypeName(number)>, 2<TypeName(int),TypeName(number)>, 3<TypeName(int),TypeName(number)>,) -> α27)    (0)
//│ | | C ((1<TypeName(int),TypeName(number)>, 2<TypeName(int),TypeName(number)>, 3<TypeName(int),TypeName(number)>,),) <! (α25,)    (1)
//│ | | | C (1<TypeName(int),TypeName(number)>, 2<TypeName(int),TypeName(number)>, 3<TypeName(int),TypeName(number)>,) <! α25    (2)
//│ | | C α26 <! α27    (3)
//│ 0. : α27
//│ ⬤ Typed as: α27
//│  where: 
//│ res: nothing
//│    = 2
